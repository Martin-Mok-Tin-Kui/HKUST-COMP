<html>
<script language='JavaScript'>

function ascii_value (c)
{
// This function converts a letter (i.e. 'A') into 
// the ascii equivalent i.e. 41 (hexadecimal
// representation, so it is always two characters). 

	// restrict input to a single character
	c = c . charAt (0);

	// loop through all possible ASCII values
	var i;
	var two_hex_characters;

	for (i = 0; i < 256; ++ i)
	{
		// convert i into a 2-digit hex string
		var h = i . toString (16);
		if (h . length == 1)
			h = "0" + h;

		two_hex_characters=h;

		// insert a % character into the string
		h = "%" + h;

		// determine the character represented by the escape code
		h = unescape (h);

		// if the characters match, we've found the ASCII value
		if (h == c)
			break;
	}
	return two_hex_characters; //Return the two hex letters
}


function encode_str(input_str){

// Take the JavaScript and convert it into ascii values
// which are stored using hexadecimal

var this_character="";
var hex_representation="";
var result_str = "";

for (var i = 0 ; i < input_str.length; ++i) {
  this_character=input_str.charAt(i);
  hex_representation= "\\x" + ascii_value(this_character);
  // Need to add a slash in front of the slash 
  // as it is a special character

  result_str +=  hex_representation;
}

return result_str;
}


function start(){

// Get the JavaScript text entered by the user
// and convert it to ascii, then display the result 
// in the output area

var entered_text;
var encoded_str;

encoded_str = encode_str(document.getElementById("input_area").value);
// .value is the text inside the textarea

document.getElementById("display_area").value=encoded_str; // Show the result
}

</script>



<!-- Mirrored from course.cse.ust.hk/comp4021/hkust/lectures/javascript_web_page_generation/hidden_javascript_code_encoder.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 03 Jun 2015 09:34:27 GMT -->
<body>
<form>

<h2>Enter your JavaScript code in the box below, then click on Convert.</h2>
<h2>The result will then be shown in the lower box.</h2>

<textarea id="input_area" rows="10" cols="100">
</textarea>

<br />
&nbsp;&nbsp;
<span style="color:red;font-style:italic;font-size:24;background-color:lightgrey"
  onclick="start()">Convert</span>
<br /><br />

<textarea id="display_area" rows="10" cols="100">
</textarea>

</form>
</body>


<!-- Mirrored from course.cse.ust.hk/comp4021/hkust/lectures/javascript_web_page_generation/hidden_javascript_code_encoder.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 03 Jun 2015 09:34:27 GMT -->
</html>